{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "https://raw.githubusercontent.com/nf-core/taxtriage/master/nextflow_schema.json",
    "title": "nf-core/taxtriage pipeline parameters",
    "description": "APHL pipeline for triage classification reports",
    "type": "object",
    "definitions": {
        "input_output_options": {
            "title": "Input/output options",
            "type": "object",
            "fa_icon": "fas fa-terminal",
            "description": "Define where the pipeline should find input data and save output data.",
            "properties": {
                "input": {
                    "type": "string",
                    "format": "file-path",
                    "mimetype": "text/csv",
                    "pattern": "^\\S+\\.csv$",
                    "schema": "assets/schema_input.json",
                    "description": "Path to comma-separated file containing information about the samples in the experiment.",
                    "help_text": "You will need to create a design file with information about the samples in your experiment before running the pipeline. Use this parameter to specify its location. It has to be a comma-separated file with 3 columns, and a header row. See [usage docs](https://nf-co.re/taxtriage/usage#samplesheet-input).",
                    "fa_icon": "fas fa-file-csv"
                },
                "db": {
                    "type": "string",
                    "fa_icon": "fas fa-book",
                    "format": "directory-path",
                    "description": "Database for Kraken2"
                },
                "save_output_fastqs": {
                    "type": "boolean",
                    "fa_icon": "fas fa-book",
                    "description": "Save all read classifications as a txt file",
                    "default": true
                },
                "save_reads_assignment": {
                    "type": "boolean",
                    "description": "Report output",
                    "default": true
                },
                "assembly": {
                    "type": "string",
                    "format": "file-path",
                    "schema": "assets/schema_input.json",
                    "description": "Path to an assembly file. This contains the taxid and relative genome file that can be pulled from Entrez (ncbi). If not called, it auto downloads in the pipeline and requires internet connectivity",
                    "help_text": "",
                    "fa_icon": "fas fa-file-csv"
                },
                "filter": {
                    "type": "string",
                    "format": "directory-path",
                    "schema": "assets/schema_input.json",
                    "description": "Path to a kraken2 database. Typically, this would be the human reads database for human-derived samples",
                    "help_text": "",
                    "fa_icon": "fas fa-file-csv"
                },
                "trim": {
                    "type": "boolean",
                    "description": "Trim the files beforehand with trimgalore. Illumina only samples",
                    "default": false,
                    "fa_icon": "fas fa-file-csv"
                },
                "assembly_file_type": {
                    "type": "string",
                    "description": "Assembly text file format. Can be a kraken2 fasta (kraken2) or the one pulled from ncbi (ncbi)",
                    "fa_icon": "fas fa-folder-open",
                    "enum": [
                        "kraken2",
                        "ncbi"
                    ],
                    "default": "ncbi"
                },
                "email": {
                    "type": "string",
                    "description": "Email address for completion summary.",
                    "fa_icon": "fas fa-envelope",
                    "help_text": "Set this parameter to your e-mail address to get a summary e-mail with details of the run sent to you when the workflow exits. If set in your user config file (`~/.nextflow/config`) then you don't need to specify this on the command line for every run.",
                    "pattern": "^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$"
                },
                "multiqc_title": {
                    "type": "string",
                    "description": "MultiQC report title. Printed as page header, used for filename if not otherwise specified.",
                    "fa_icon": "fas fa-file-signature"
                }
            },
            "required": [
                "input",
                "db",
                "outdir"
            ]
        }
    },
    "allOf": [
        {
            "$ref": "#/definitions/input_output_options"
        }
    ]
}